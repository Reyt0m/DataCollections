# Research Map 研究者・競争的研究課題スクレイパー

このスクレイパーは、[Research Map](https://researchmap.jp/)から企業所属の研究者情報とその競争的研究課題を取得するためのツールです。

## 機能

- 企業所属の研究者を全ページ検索
- 各研究者の研究課題を取得
- 競争的研究課題の自動判定
- JSON形式とExcel形式での結果出力
- テストモード対応

## 必要なライブラリ

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. テストモード（推奨）

最初に少数の研究者でテストすることをお勧めします：

```bash
# 最初の5人の研究者のみ処理
python researchmap_researchers_scraper.py --test 5

# 最初の10人の研究者のみ処理
python researchmap_researchers_scraper.py --test 10
```

### 2. 本格実行

全研究者を処理する場合：

```bash
python researchmap_researchers_scraper.py
```

### 3. カスタム出力ファイル名

```bash
# カスタムプレフィックスで出力
python researchmap_researchers_scraper.py --output-prefix my_research_data --test 5
```

## 出力ファイル

スクレイパーは以下のファイルを生成します：

1. **JSONファイル** (`*_results.json`)
   - 全データの詳細情報
   - プログラムでの後処理に適している

2. **Excelファイル** (`*_results.xlsx`)
   - 2つのシートを含む：
     - `競争的研究課題`: 研究者と研究課題の詳細
     - `サマリー`: 統計情報

## 取得されるデータ

### 研究者情報
- 名前（日本語・英語）
- 所属機関
- 職名
- 研究者URL
- 研究者ID

### 研究課題情報
- 研究課題名
- 研究課題URL
- 研究課題ID
- 競争的研究課題かどうかの判定

### 競争的研究課題の判定基準

以下のキーワードを含む研究課題を競争的研究課題として判定：

- 科研費
- JST（科学技術振興機構）
- AMST（先端計測分析技術・機器開発プログラム）
- 文部科学省
- 厚生労働省
- 経済産業省
- 基盤研究（A/B/C）
- 挑戦的研究
- 新学術領域研究
- 特別研究員
- 若手研究
- 萌芽研究
- 特別推進研究

## ログファイル

実行中は `researchmap_scraper.log` ファイルに詳細なログが記録されます。

## 注意事項

1. **レート制限**: サーバーに負荷をかけないよう、適切な待機時間を設定しています
2. **ネットワーク接続**: 安定したインターネット接続が必要です
3. **実行時間**: 全研究者（約540人）の処理には数時間かかる場合があります
4. **データの正確性**: 取得したデータは手動で確認することをお勧めします

## トラブルシューティング

### よくある問題

1. **接続エラー**
   - インターネット接続を確認
   - ファイアウォール設定を確認

2. **メモリ不足**
   - テストモードで少数の研究者から開始
   - システムのメモリ使用量を確認

3. **ファイル出力エラー**
   - 出力ディレクトリの書き込み権限を確認
   - 既存ファイルが開かれていないか確認

## ライセンス

このスクレイパーは教育・研究目的で作成されています。商用利用の際は、Research Mapの利用規約を確認してください。

## 更新履歴

- 2025-08-03: 初回リリース
  - 研究者情報取得機能
  - 競争的研究課題判定機能
  - JSON/Excel出力機能
  - テストモード対応
